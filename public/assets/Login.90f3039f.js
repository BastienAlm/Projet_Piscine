import{_ as f,P as h,r as v,c as n,a as c,w as _,T as y,b as e,n as g,d as w,e as a,v as d,f as m,o as p,g as R,p as L,h as A}from"./index.41bf7202.js";const S={name:"Login",components:{PWAPrompt:h},data(){return{registerActive:!1,emailLogin:"",idLogin:"",passwordLogin:"",emailReg:"",passwordReg:"",confirmReg:"",emptyFields:!1}},methods:{doLogin(){this.idLogin===""?this.emptyFields=!0:this.getUser()},doRegister(){this.emailReg===""||this.passwordReg===""||this.confirmReg===""?this.emptyFields=!0:alert("You are now registered")},async getUser(){try{const s=await(await fetch(`http://localhost:4000/api/users/${this.idLogin}`)).json();localStorage.setItem("user",JSON.stringify(s.data)),console.log(s.data),this.$router.push("workingTimes/1")}catch(t){console.log(t)}}}},i=t=>(L("data-v-4f81ac82"),t=t(),A(),t),b={class:"login-page"},k={key:0,class:"wallpaper-login"},P=i(()=>e("div",{class:"wallpaper-register"},null,-1)),x={class:"container"},C={class:"row"},F={class:"col-lg-4 col-md-6 col-sm-8 mx-auto"},V=i(()=>e("h1",null,"Sign In",-1)),I=i(()=>e("input",{type:"submit",class:"btn btn-primary"},null,-1)),U=i(()=>e("p",null,[e("a",{href:"#"},"Forgot your password?")],-1)),N=i(()=>e("h1",null,"Sign Up",-1)),T={class:"form-group"};function q(t,s,B,W,o,l){const u=v("PWAPrompt");return p(),n("div",b,[c(u),c(y,{name:"fade"},{default:_(()=>[o.registerActive?R("",!0):(p(),n("div",k))]),_:1}),P,e("div",x,[e("div",C,[e("div",F,[o.registerActive?(p(),n("div",{key:1,class:g(["card register",{error:o.emptyFields}])},[N,e("form",T,[a(e("input",{"onUpdate:modelValue":s[3]||(s[3]=r=>o.emailReg=r),type:"email",class:"form-control",placeholder:"Email",required:""},null,512),[[d,o.emailReg]]),a(e("input",{"onUpdate:modelValue":s[4]||(s[4]=r=>o.passwordReg=r),type:"password",class:"form-control",placeholder:"Password",required:""},null,512),[[d,o.passwordReg]]),a(e("input",{"onUpdate:modelValue":s[5]||(s[5]=r=>o.confirmReg=r),type:"password",class:"form-control",placeholder:"Confirm Password",required:""},null,512),[[d,o.confirmReg]]),e("input",{type:"submit",class:"btn btn-primary",onClick:s[6]||(s[6]=(...r)=>l.doRegister&&l.doRegister(...r))}),e("p",null,[m("Already have an account? "),e("a",{href:"#",onClick:s[7]||(s[7]=r=>(o.registerActive=!o.registerActive,o.emptyFields=!1))},"Sign in here")])])],2)):(p(),n("div",{key:0,class:g(["card login",{error:o.emptyFields}])},[V,e("form",{class:"form-group",onSubmit:s[2]||(s[2]=w((...r)=>l.doLogin&&l.doLogin(...r),["prevent"]))},[a(e("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>o.idLogin=r),type:"number",class:"form-control",placeholder:"Id",required:""},null,512),[[d,o.idLogin]]),I,e("p",null,[m("Don't have an account? "),e("a",{href:"#",onClick:s[1]||(s[1]=r=>(o.registerActive=!o.registerActive,o.emptyFields=!1))},"Sign up here")]),U],32)],2))])])])])}var E=f(S,[["render",q],["__scopeId","data-v-4f81ac82"]]);export{E as default};
